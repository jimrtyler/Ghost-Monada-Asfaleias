# 👻 Μονάδα Ασφαλείας Ghost
**Εργαλείο Σκλήρυνσης Ασφαλείας Windows & Azure βασισμένο σε PowerShell**

> **Προληπτική σκλήρυνση ασφαλείας για Windows endpoints και Azure περιβάλλοντα.** Το Ghost παρέχει λειτουργίες σκλήρυνσης βασισμένες σε PowerShell που μπορούν να βοηθήσουν στη μείωση κοινών διανυσμάτων επίθεσης απενεργοποιώντας περιττές υπηρεσίες και πρωτόκολλα.

## ⚠️ Σημαντικές Αποποιήσεις Ευθύνης

**ΑΠΑΙΤΟΥΝΤΑΙ ΔΟΚΙΜΕΣ**: Δοκιμάστε πάντα το Ghost πρώτα σε περιβάλλοντα εκτός παραγωγής. Η απενεργοποίηση υπηρεσιών μπορεί να επηρεάσει νόμιμες επιχειρηματικές λειτουργίες.

**ΧΩΡΙΣ ΕΓΓΥΗΣΕΙΣ**: Παρόλο που το Ghost στοχεύει κοινά διανύσματα επίθεσης, κανένα εργαλείο ασφαλείας δεν μπορεί να αποτρέψει όλες τις επιθέσεις. Αυτό είναι ένα στοιχείο μιας ολοκληρωμένης στρατηγικής ασφαλείας.

**ΛΕΙΤΟΥΡΓΙΚΟΣ ΑΝΤΙΚΤΥΠΟΣ**: Ορισμένες λειτουργίες μπορεί να επηρεάσουν τη λειτουργικότητα του συστήματος. Εξετάστε κάθε ρύθμιση προσεκτικά πριν από την ανάπτυξη.

**ΕΠΑΓΓΕΛΜΑΤΙΚΗ ΑΞΙΟΛΟΓΗΣΗ**: Για περιβάλλοντα παραγωγής, συμβουλευτείτε επαγγελματίες ασφαλείας για να διασφαλίσετε ότι οι ρυθμίσεις ευθυγραμμίζονται με τις ανάγκες του οργανισμού σας.

## 📊 Το Τοπίο Ασφαλείας

Οι ζημιές από ransomware έφτασαν τα **57 δισεκατομμύρια δολάρια το 2025**, και η έρευνα δείχνει ότι πολλές επιτυχημένες επιθέσεις εκμεταλλεύονται βασικές υπηρεσίες Windows και λανθασμένες διαμορφώσεις. Τα κοινά διανύσματα επίθεσης περιλαμβάνουν:

- **90% των περιστατικών ransomware** περιλαμβάνουν εκμετάλλευση RDP
- **Ευπάθειες SMBv1** επέτρεψαν επιθέσεις όπως WannaCry και NotPetya
- **Μακροεντολές εγγράφων** παραμένουν πρωτεύουσα μέθοδος παράδοσης malware
- **Επιθέσεις βασισμένες σε USB** συνεχίζουν να στοχεύουν δίκτυα air-gapped
- **Κατάχρηση PowerShell** έχει αυξηθεί σημαντικά τα τελευταία χρόνια

## 🛡️ Λειτουργίες Ασφαλείας Ghost

Το Ghost παρέχει **16 λειτουργίες σκλήρυνσης Windows** συν **ενσωμάτωση ασφαλείας Azure**:

### Σκλήρυνση Windows Endpoint

| Λειτουργία | Σκοπός | Εκτιμήσεις |
|------------|--------|-----------|
| `Set-RDP` | Διαχειρίζεται την πρόσβαση Remote Desktop | Μπορεί να επηρεάσει την απομακρυσμένη διαχείριση |
| `Set-SMBv1` | Ελέγχει το παλαιό πρωτόκολλο SMB | Απαιτείται για πολύ παλιά συστήματα |
| `Set-AutoRun` | Ελέγχει AutoPlay/AutoRun | Μπορεί να επηρεάσει την άνεση χρήστη |
| `Set-USBStorage` | Περιορίζει συσκευές αποθήκευσης USB | Μπορεί να επηρεάσει νόμιμη χρήση USB |
| `Set-Macros` | Ελέγχει την εκτέλεση μακροεντολών Office | Μπορεί να επηρεάσει έγγραφα με ενεργοποιημένες μακροεντολές |
| `Set-PSRemoting` | Διαχειρίζεται PowerShell remoting | Μπορεί να επηρεάσει την απομακρυσμένη διαχείριση |
| `Set-WinRM` | Ελέγχει Windows Remote Management | Μπορεί να επηρεάσει την απομακρυσμένη διαχείριση |
| `Set-LLMNR` | Διαχειρίζεται πρωτόκολλο επίλυσης ονομάτων | Γενικά ασφαλές να απενεργοποιηθεί |
| `Set-NetBIOS` | Ελέγχει NetBIOS πάνω από TCP/IP | Μπορεί να επηρεάσει παλαιές εφαρμογές |
| `Set-AdminShares` | Διαχειρίζεται διαχειριστικούς κοινόχρηστους φακέλους | Μπορεί να επηρεάσει απομακρυσμένη πρόσβαση αρχείων |
| `Set-Telemetry` | Ελέγχει συλλογή δεδομένων | Μπορεί να επηρεάσει διαγνωστικές δυνατότητες |
| `Set-GuestAccount` | Διαχειρίζεται λογαριασμό επισκέπτη | Γενικά ασφαλές να απενεργοποιηθεί |
| `Set-ICMP` | Ελέγχει απαντήσεις ping | Μπορεί να επηρεάσει διαγνωστικά δικτύου |
| `Set-RemoteAssistance` | Διαχειρίζεται απομακρυσμένη βοήθεια | Μπορεί να επηρεάσει λειτουργίες helpdesk |
| `Set-NetworkDiscovery` | Ελέγχει ανακάλυψη δικτύου | Μπορεί να επηρεάσει περιήγηση δικτύου |
| `Set-Firewall` | Διαχειρίζεται Windows Firewall | Κρίσιμο για ασφάλεια δικτύου |

### Ασφάλεια Azure Cloud

| Λειτουργία | Σκοπός | Απαιτήσεις |
|------------|--------|------------|
| `Set-AzureSecurityDefaults` | Ενεργοποιεί βασική ασφάλεια Azure AD | Δικαιώματα Microsoft Graph |
| `Set-AzureConditionalAccess` | Διαμορφώνει πολιτικές πρόσβασης | Άδειες Azure AD P1/P2 |
| `Set-AzurePrivilegedUsers` | Ελέγχει προνομιούχους λογαριασμούς | Δικαιώματα Global Administrator |

### Επιλογές Ανάπτυξης Επιχείρησης

| Μέθοδος | Περίπτωση Χρήσης | Απαιτήσεις |
|---------|------------------|------------|
| **Άμεση Εκτέλεση** | Δοκιμές, μικρά περιβάλλοντα | Δικαιώματα τοπικού διαχειριστή |
| **Group Policy** | Περιβάλλοντα domain | Διαχειριστής domain, διαχείριση GP |
| **Microsoft Intune** | Συσκευές διαχειριζόμενες στο cloud | Άδειες Intune, Graph API |

## 🚀 Γρήγορη Εκκίνηση

### Αξιολόγηση Ασφαλείας
```powershell
# Φόρτωση μονάδας Ghost
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')

# Έλεγχος τρέχουσας στάσης ασφαλείας
Get-Ghost
```

### Βασική Σκλήρυνση (Δοκιμάστε Πρώτα)
```powershell
# Ουσιαστική σκλήρυνση - δοκιμάστε πρώτα σε εργαστηριακό περιβάλλον
Set-Ghost -SMBv1 -AutoRun -Macros

# Εξέταση αλλαγών
Get-Ghost
```

### Ανάπτυξη Επιχείρησης
```powershell
# Ανάπτυξη Group Policy (περιβάλλοντα domain)
Set-Ghost -SMBv1 -AutoRun -GroupPolicy

# Ανάπτυξη Intune (συσκευές διαχειριζόμενες στο cloud)
Set-Ghost -SMBv1 -RDP -USBStorage -Intune
```

## 📋 Μέθοδοι Εγκατάστασης

### Επιλογή 1: Άμεση Λήψη (Δοκιμές)
```powershell
IEX(Invoke-WebRequest 'https://raw.githubusercontent.com/jimrtyler/Ghost/main/Ghost.ps1')
```

### Επιλογή 2: Εγκατάσταση Μονάδας
```powershell
# Εγκατάσταση από PowerShell Gallery (όταν είναι διαθέσιμο)
Install-Module Ghost -Scope CurrentUser
Import-Module Ghost
```

### Επιλογή 3: Ανάπτυξη Επιχείρησης
```powershell
# Αντιγραφή σε τοποθεσία δικτύου για ανάπτυξη Group Policy
# Διαμόρφωση scripts PowerShell Intune για ανάπτυξη cloud
```

## 💼 Παραδείγματα Περιπτώσεων Χρήσης

### Μικρή Επιχείρηση
```powershell
# Βασική προστασία με ελάχιστο αντίκτυπο
Set-Ghost -SMBv1 -AutoRun -Macros -ICMP
```

### Περιβάλλον Υγειονομικής Περίθαλψης
```powershell
# Σκλήρυνση εστιασμένη σε HIPAA
Set-Ghost -SMBv1 -RDP -USBStorage -AdminShares -Telemetry
```

### Χρηματοπιστωτικές Υπηρεσίες
```powershell
# Διαμόρφωση υψηλής ασφαλείας
Set-Ghost -RDP -SMBv1 -AutoRun -USBStorage -Macros -PSRemoting -AdminShares
```

### Οργανισμός Cloud-First
```powershell
# Ανάπτυξη διαχειριζόμενη από Intune
Connect-IntuneGhost -Interactive
Set-Ghost -SMBv1 -RDP -AutoRun -Macros -Intune
```

## 📝 Λεπτομέρειες Λειτουργιών

### Κύριες Λειτουργίες Σκλήρυνσης

#### Υπηρεσίες Δικτύου
- **RDP**: Μπλοκάρει πρόσβαση απομακρυσμένου επιφάνειας εργασίας ή τυχαιοποιεί θύρα
- **SMBv1**: Απενεργοποιεί παλαιό πρωτόκολλο κοινής χρήσης αρχείων
- **ICMP**: Αποτρέπει απαντήσεις ping για αναγνώριση
- **LLMNR/NetBIOS**: Μπλοκάρει παλαιά πρωτόκολλα επίλυσης ονομάτων

#### Ασφάλεια Εφαρμογών
- **Μακροεντολές**: Απενεργοποιεί εκτέλεση μακροεντολών σε εφαρμογές Office
- **AutoRun**: Αποτρέπει αυτόματη εκτέλεση από αφαιρούμενα μέσα

#### Απομακρυσμένη Διαχείριση
- **PSRemoting**: Απενεργοποιεί απομακρυσμένες συνεδρίες PowerShell
- **WinRM**: Σταματά Windows Remote Management
- **Απομακρυσμένη Βοήθεια**: Μπλοκάρει συνδέσεις απομακρυσμένης βοήθειας

#### Έλεγχος Πρόσβασης
- **Admin Shares**: Απενεργοποιεί κοινόχρηστους φακέλους C$, ADMIN$
- **Λογαριασμός Επισκέπτη**: Απενεργοποιεί πρόσβαση λογαριασμού επισκέπτη
- **Αποθήκευση USB**: Περιορίζει χρήση συσκευών USB

### Ενσωμάτωση Azure
```powershell
# Σύνδεση με Azure tenant
Connect-AzureGhost -Interactive

# Ενεργοποίηση προεπιλογών ασφαλείας
Set-AzureSecurityDefaults -Enable

# Διαμόρφωση υπό όρους πρόσβασης
Set-AzureConditionalAccess -BlockLegacyAuth -RequireMFA

# Έλεγχος προνομιούχων χρηστών
Set-AzurePrivilegedUsers -AuditOnly
```

### Ενσωμάτωση Intune (Νέο στο v2)
```powershell
# Σύνδεση με Intune
Connect-IntuneGhost -Interactive

# Ανάπτυξη μέσω πολιτικών Intune
Set-IntuneGhost -Settings @{
    RDP = $true
    SMBv1 = $true
    USBStorage = $true
    Macros = $true
}
```

## ⚠️ Σημαντικές Εκτιμήσεις

### Απαιτήσεις Δοκιμών
- **Εργαστηριακό Περιβάλλον**: Δοκιμάστε όλες τις ρυθμίσεις πρώτα σε απομονωμένο περιβάλλον
- **Σταδιακή Ανάπτυξη**: Ανάπτυξη σταδιακά για εντοπισμό προβλημάτων
- **Σχέδιο Επαναφοράς**: Διασφάλιση ότι μπορείτε να αναιρέσετε αλλαγές εάν χρειαστεί
- **Τεκμηρίωση**: Καταγραφή ποιες ρυθμίσεις λειτουργούν για το περιβάλλον σας

### Πιθανός Αντίκτυπος
- **Παραγωγικότητα Χρήστη**: Ορισμένες ρυθμίσεις μπορεί να επηρεάσουν καθημερινές ροές εργασίας
- **Παλαιές Εφαρμογές**: Παλαιότερα συστήματα μπορεί να απαιτούν συγκεκριμένα πρωτόκολλα
- **Απομακρυσμένη Πρόσβαση**: Εξετάστε τον αντίκτυπο στη νόμιμη απομακρυσμένη διαχείριση
- **Επιχειρηματικές Διαδικασίες**: Επιβεβαιώστε ότι οι ρυθμίσεις δεν σπάνε κρίσιμες λειτουργίες

### Περιορισμοί Ασφαλείας
- **Άμυνα σε Βάθος**: Το Ghost είναι ένα επίπεδο ασφαλείας, όχι πλήρης λύση
- **Συνεχής Διαχείριση**: Η ασφάλεια απαιτεί συνεχή παρακολούθηση και ενημερώσεις
- **Εκπαίδευση Χρήστη**: Οι τεχνικοί έλεγχοι πρέπει να συνδυάζονται με ευαισθητοποίηση ασφαλείας
- **Εξέλιξη Απειλών**: Νέες μέθοδοι επίθεσης μπορεί να παρακάμψουν τρέχουσες προστασίες

## 🎯 Παραδείγματα Σεναρίων Επίθεσης

Παρόλο που το Ghost στοχεύει κοινά διανύσματα επίθεσης, η συγκεκριμένη πρόληψη εξαρτάται από κατάλληλη υλοποίηση και δοκιμές:

### Επιθέσεις Τύπου WannaCry
- **Μετριασμός**: `Set-Ghost -SMBv1` απενεργοποιεί το ευάλωτο πρωτόκολλο
- **Εκτίμηση**: Διασφάλιση ότι κανένα παλαιό σύστημα δεν απαιτεί SMBv1

### Ransomware Βασισμένο σε RDP
- **Μετριασμός**: `Set-Ghost -RDP` μπλοκάρει πρόσβαση απομακρυσμένου επιφάνειας εργασίας
- **Εκτίμηση**: Μπορεί να απαιτήσει εναλλακτικές μεθόδους απομακρυσμένης πρόσβασης

### Malware Βασισμένο σε Έγγραφα
- **Μετριασμός**: `Set-Ghost -Macros` απενεργοποιεί εκτέλεση μακροεντολών
- **Εκτίμηση**: Μπορεί να επηρεάσει νόμιμα έγγραφα με ενεργοποιημένες μακροεντολές

### Απειλές Παραδιδόμενες μέσω USB
- **Μετριασμός**: `Set-Ghost -USBStorage -AutoRun` περιορίζει λειτουργικότητα USB
- **Εκτίμηση**: Μπορεί να επηρεάσει νόμιμη χρήση συσκευών USB

## 🏢 Χαρακτηριστικά Επιχείρησης

### Υποστήριξη Group Policy
```powershell
# Εφαρμογή ρυθμίσεων μέσω μητρώου Group Policy
Set-Ghost -SMBv1 -RDP -AutoRun -GroupPolicy

# Οι ρυθμίσεις εφαρμόζονται σε επίπεδο domain μετά την ανανέωση GP
gpupdate /force
```

### Ενσωμάτωση Microsoft Intune
```powershell
# Δημιουργία πολιτικών Intune για ρυθμίσεις Ghost
Set-IntuneGhost -Settings $GhostSettings -Interactive

# Οι πολιτικές αναπτύσσονται αυτόματα σε διαχειριζόμενες συσκευές
```

### Αναφορές Συμμόρφωσης
```powershell
# Δημιουργία αναφοράς αξιολόγησης ασφαλείας
Get-Ghost | Export-Csv -Path "ΈλεγχοςΑσφαλείας-$(Get-Date -Format 'yyyy-MM-dd').csv"

# Αναφορά στάσης ασφαλείας Azure
Get-AzureGhost | Out-File "ΑναφοράΑσφαλείαςAzure.txt"
```

## 📚 Βέλτιστες Πρακτικές

### Προ-ανάπτυξη
1. **Τεκμηρίωση Τρέχουσας Κατάστασης**: Εκτελέστε `Get-Ghost` πριν από αλλαγές
2. **Διεξοδική Δοκιμή**: Επικύρωση σε περιβάλλον εκτός παραγωγής
3. **Σχεδιασμός Επαναφοράς**: Γνώση πώς να αναιρέσετε κάθε ρύθμιση
4. **Εξέταση Ενδιαφερόμενων Μερών**: Διασφάλιση ότι οι επιχειρηματικές μονάδες εγκρίνουν αλλαγές

### Κατά την Ανάπτυξη
1. **Σταδιακή Προσέγγιση**: Ανάπτυξη πρώτα σε ομάδες πιλότου
2. **Παρακολούθηση Αντίκτυπου**: Προσοχή σε παράπονα χρηστών ή προβλήματα συστήματος
3. **Τεκμηρίωση Προβλημάτων**: Καταγραφή οποιωνδήποτε προβλημάτων για μελλοντική αναφορά
4. **Επικοινωνία Αλλαγών**: Ενημέρωση χρηστών για βελτιώσεις ασφαλείας

### Μετά την Ανάπτυξη
1. **Τακτική Αξιολόγηση**: Περιοδική εκτέλεση `Get-Ghost` για επιβεβαίωση ρυθμίσεων
2. **Ενημέρωση Τεκμηρίωσης**: Διατήρηση ρυθμίσεων ασφαλείας ενημερωμένων
3. **Εξέταση Αποτελεσματικότητας**: Παρακολούθηση για περιστατικά ασφαλείας
4. **Συνεχής Βελτίωση**: Προσαρμογή ρυθμίσεων βάσει τοπίου απειλών

## 🔧 Αντιμετώπιση Προβλημάτων

### Κοινά Προβλήματα
- **Σφάλματα Δικαιωμάτων**: Διασφάλιση υψωμένης συνεδρίας PowerShell
- **Εξαρτήσεις Υπηρεσιών**: Ορισμένες υπηρεσίες μπορεί να έχουν εξαρτήσεις
- **Συμβατότητα Εφαρμογών**: Δοκιμή με επιχειρηματικές εφαρμογές
- **Συνδεσιμότητα Δικτύου**: Επιβεβαίωση ότι η απομακρυσμένη πρόσβαση εξακολουθεί να λειτουργεί

### Επιλογές Αποκατάστασης
```powershell
# Επανενεργοποίηση συγκεκριμένων υπηρεσιών εάν χρειαστεί
Set-RDP -Enable
Set-SMBv1 -Enable
Set-AutoRun -Enable
Set-Macros -Enable
```

## 👨‍💻 Σχετικά με τον Συγγραφέα

**Jim Tyler** - Microsoft MVP για PowerShell
- **YouTube**: [@PowerShellEngineer](https://youtube.com/@PowerShellEngineer) (10.000+ συνδρομητές)
- **Newsletter**: [PowerShell.News](https://powershell.news) - Εβδομαδιαία νοημοσύνη ασφαλείας
- **Συγγραφέας**: "PowerShell for Systems Engineers"
- **Εμπειρία**: Δεκαετίες αυτοματισμού PowerShell και ασφάλειας Windows

## 📄 Άδεια & Αποποίηση Ευθύνης

### Άδεια MIT
Το Ghost παρέχεται υπό την άδεια MIT για ελεύθερη χρήση, τροποποίηση και διανομή.

### Αποποίηση Ευθύνης Ασφαλείας
- **Χωρίς Εγγύηση**: Το Ghost παρέχεται "ως έχει" χωρίς εγγύηση οποιουδήποτε είδους
- **Απαιτούνται Δοκιμές**: Δοκιμάστε πάντα πρώτα σε περιβάλλοντα εκτός παραγωγής
- **Επαγγελματική Καθοδήγηση**: Συμβουλευτείτε επαγγελματίες ασφαλείας για αναπτύξεις παραγωγής
- **Λειτουργικός Αντίκτυπος**: Οι συγγραφείς δεν είναι υπεύθυνοι για οποιαδήποτε λειτουργική διακοπή
- **Ολοκληρωμένη Ασφάλεια**: Το Ghost είναι ένα στοιχείο μιας πλήρους στρατηγικής ασφαλείας

### Υποστήριξη
- **GitHub Issues**: [Αναφορά σφαλμάτων ή αίτηση χαρακτηριστικών](https://github.com/jimrtyler/Ghost/issues)
- **Τεκμηρίωση**: Χρησιμοποιήστε `Get-Help <λειτουργία> -Full` για λεπτομερή βοήθεια
- **Κοινότητα**: Φόρουμ κοινότητας PowerShell και ασφαλείας

---

**🔒 Ενισχύστε τη στάση ασφαλείας σας με το Ghost - αλλά δοκιμάστε πάντα πρώτα.**

```powershell
# Ξεκινήστε με αξιολόγηση, όχι με υποθέσεις
Get-Ghost
```

**⭐ Δώστε ένα αστέρι σε αυτό το αποθετήριο αν το Ghost βοηθά στη βελτίωση της στάσης ασφαλείας σας!**